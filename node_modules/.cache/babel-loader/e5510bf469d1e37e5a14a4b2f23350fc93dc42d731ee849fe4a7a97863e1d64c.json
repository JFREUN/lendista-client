{"ast":null,"code":"// src/api/service.js\n\nimport axios from \"axios\";\nconst api = axios.create({\n  // make sure you use PORT = 5005 (the port where our server is running)\n  baseURL: \"http://localhost:5005/api\" || \"mongodb+srv://jessicamariafreund:ZqY3nWVqjUwyt33E@cluster0.5cx4k35.mongodb.net/dyner-server?retryWrites=true&w=majority\"\n\n  // withCredentials: true // => you might need this option if using cookies and sessions\n});\n\nconst storedToken = localStorage.getItem('authToken');\nconst errorHandler = err => {\n  throw err;\n};\nconst getProducts = () => {\n  return api.get(\"/products\", {\n    headers: {\n      Authorization: `Bearer ${storedToken}`\n    }\n  }).then(res => res.data).catch(errorHandler);\n};\nconst uploadImage = file => {\n  return api.post(\"/upload\", file, {\n    headers: {\n      Authorization: `Bearer ${storedToken}`\n    }\n  }).then(res => res.data).catch(errorHandler);\n};\nconst createProduct = newProduct => {\n  return api.post(\"/products\", newProduct, {\n    headers: {\n      Authorization: `Bearer ${storedToken}`\n    }\n  }).then(res => res.data).catch(errorHandler);\n};\nexport default {\n  getProducts,\n  uploadImage,\n  createProduct\n};","map":{"version":3,"names":["axios","api","create","baseURL","storedToken","localStorage","getItem","errorHandler","err","getProducts","get","headers","Authorization","then","res","data","catch","uploadImage","file","post","createProduct","newProduct"],"sources":["/Users/jessica/Desktop/Portfolio/Lendista/client/src/api/service.js"],"sourcesContent":["// src/api/service.js\n\nimport axios from \"axios\";\n\nconst api = axios.create({\n  // make sure you use PORT = 5005 (the port where our server is running)\n  baseURL: \"http://localhost:5005/api\" || \"mongodb+srv://jessicamariafreund:ZqY3nWVqjUwyt33E@cluster0.5cx4k35.mongodb.net/dyner-server?retryWrites=true&w=majority\"\n\n  // withCredentials: true // => you might need this option if using cookies and sessions\n});\n\nconst storedToken = localStorage.getItem('authToken');\n\nconst errorHandler = (err) => {\n  throw err;\n};\n\nconst getProducts = () => {\n  return api.get(\"/products\", { headers: { Authorization: `Bearer ${storedToken}` } })\n    .then((res) => res.data)\n    .catch(errorHandler);\n};\n\nconst uploadImage = (file) => {\n  return api.post(\"/upload\", file, { headers: { Authorization: `Bearer ${storedToken}` } })\n    .then(res => res.data)\n    .catch(errorHandler);\n};\n\nconst createProduct = (newProduct) => {\n  return api.post(\"/products\", newProduct, { headers: { Authorization: `Bearer ${storedToken}` } })\n    .then(res => res.data)\n    .catch(errorHandler);\n};\n\nexport default {\n  getProducts,\n  uploadImage,\n  createProduct\n};\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvB;EACAC,OAAO,EAAE,2BAA2B,IAAI;;EAExC;AACF,CAAC,CAAC;;AAEF,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;AAErD,MAAMC,YAAY,GAAIC,GAAG,IAAK;EAC5B,MAAMA,GAAG;AACX,CAAC;AAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB,OAAOR,GAAG,CAACS,GAAG,CAAC,WAAW,EAAE;IAAEC,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASR,WAAY;IAAE;EAAE,CAAC,CAAC,CACjFS,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CACvBC,KAAK,CAACT,YAAY,CAAC;AACxB,CAAC;AAED,MAAMU,WAAW,GAAIC,IAAI,IAAK;EAC5B,OAAOjB,GAAG,CAACkB,IAAI,CAAC,SAAS,EAAED,IAAI,EAAE;IAAEP,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASR,WAAY;IAAE;EAAE,CAAC,CAAC,CACtFS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CACrBC,KAAK,CAACT,YAAY,CAAC;AACxB,CAAC;AAED,MAAMa,aAAa,GAAIC,UAAU,IAAK;EACpC,OAAOpB,GAAG,CAACkB,IAAI,CAAC,WAAW,EAAEE,UAAU,EAAE;IAAEV,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASR,WAAY;IAAE;EAAE,CAAC,CAAC,CAC9FS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CACrBC,KAAK,CAACT,YAAY,CAAC;AACxB,CAAC;AAED,eAAe;EACbE,WAAW;EACXQ,WAAW;EACXG;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}