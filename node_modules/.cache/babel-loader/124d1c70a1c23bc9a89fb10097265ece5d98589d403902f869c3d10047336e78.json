{"ast":null,"code":"var _jsxFileName = \"/Users/jessica/Desktop/Portfolio/Lendista/client/src/components/PaymentForm.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CARD_OPTIONS = {\n  iconStyle: \"solid\",\n  style: {\n    base: {\n      iconColor: \"#c4f0ff\",\n      color: \"#fff\",\n      fontWeight: 500,\n      fontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\n      fontSize: \"16px\",\n      fontSmoothing: \"antialiased\",\n      \":-webkit-autofill\": {\n        color: \"#fce883\"\n      },\n      \"::placeholder\": {\n        color: \"#87bbfd\"\n      }\n    },\n    invalid: {\n      iconColor: \"#ffc7ee\",\n      color: \"#ffc7ee\"\n    }\n  },\n  hidePostalCode: false\n};\nconst API_URL = \"http://localhost:5005\";\nfunction PaymentForm() {\n  _s();\n  const [success, setSuccess] = useState(false);\n  const stripe = useStripe();\n  const elements = useElements();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: elements.getElement(CardElement)\n    });\n    if (!error) {\n      try {\n        const {\n          id\n        } = paymentMethod;\n        const response = await axios.post(`${API_URL}/api/payment`, {\n          amount: 1000,\n          id\n        });\n        if (response.data.success) {\n          console.log(\"Successful payment!\");\n          setSuccess(true);\n        }\n      } catch (error) {\n        console.log(\"Payment error: \", error);\n      }\n    } else {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !success ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n        className: \"formGroup\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"FormRow\",\n          children: /*#__PURE__*/_jsxDEV(CardElement, {\n            options: CARD_OPTIONS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"stripeBtn\",\n        children: \"Pay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"You bought a membership!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n}\n_s(PaymentForm, \"6hDlQMsgCa6cRk+jdFUeEqLw/RU=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = PaymentForm;\nexport default PaymentForm;\nvar _c;\n$RefreshReg$(_c, \"PaymentForm\");","map":{"version":3,"names":["axios","React","useState","CardElement","useElements","useStripe","jsxDEV","_jsxDEV","Fragment","_Fragment","CARD_OPTIONS","iconStyle","style","base","iconColor","color","fontWeight","fontFamily","fontSize","fontSmoothing","invalid","hidePostalCode","API_URL","PaymentForm","_s","success","setSuccess","stripe","elements","handleSubmit","e","preventDefault","error","paymentMethod","createPaymentMethod","type","card","getElement","id","response","post","amount","data","console","log","children","onSubmit","className","options","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jessica/Desktop/Portfolio/Lendista/client/src/components/PaymentForm.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\n\nconst CARD_OPTIONS = {\n\ticonStyle: \"solid\",\n\tstyle: {\n\t\tbase: {\n\t\t\ticonColor: \"#c4f0ff\",\n\t\t\tcolor: \"#fff\",\n\t\t\tfontWeight: 500,\n\t\t\tfontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\n\t\t\tfontSize: \"16px\",\n\t\t\tfontSmoothing: \"antialiased\",\n\t\t\t\":-webkit-autofill\": { color: \"#fce883\" },\n\t\t\t\"::placeholder\": { color: \"#87bbfd\" }\n\t\t},\n\t\tinvalid: {\n\t\t\ticonColor: \"#ffc7ee\",\n\t\t\tcolor: \"#ffc7ee\"\n\t\t}\n\t}, \n    hidePostalCode: false, \n}\n\nconst API_URL = \"http://localhost:5005\";\n\n\nfunction PaymentForm() {\n  const [success, setSuccess] = useState(false);\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: elements.getElement(CardElement),\n    });\n\n    if (!error) {\n      try {\n        const { id } = paymentMethod;\n        const response = await axios.post(`${API_URL}/api/payment`, { amount: 1000, id });\n\n        if (response.data.success) {\n          console.log(\"Successful payment!\");\n          setSuccess(true);\n        }\n      } catch (error) {\n        console.log(\"Payment error: \", error);\n      }\n    } else{\n        console.log(error)\n    }\n  };\n\n  return <>\n  {!success ? \n  <form onSubmit={handleSubmit}>\n  <fieldset className=\"formGroup\">\n    <div className=\"FormRow\">\n        <CardElement options={CARD_OPTIONS}></CardElement>\n    </div>\n  </fieldset>\n  <button className=\"stripeBtn\">Pay</button>\n  </form>\n  : \n  <div>\n    <h2>You bought a membership!</h2>\n  </div>}\n\n  </>;\n}\n\nexport default PaymentForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}